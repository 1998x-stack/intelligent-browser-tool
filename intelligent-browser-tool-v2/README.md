# ğŸŒ Intelligent Browser Tool

åŸºäº Ollama + Selenium + Trafilatura çš„æ™ºèƒ½ç½‘é¡µåˆ†æå·¥å…·

## ğŸ“‹ æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„ç½‘é¡µçˆ¬å–å’Œåˆ†æå·¥å…·ï¼Œç»“åˆäº†ï¼š
- **Selenium**: å¤„ç†JavaScriptåŠ¨æ€æ¸²æŸ“çš„ç½‘é¡µ
- **Trafilatura**: é«˜è´¨é‡çš„ç½‘é¡µå†…å®¹æå–
- **Ollama (Qwen2.5)**: æœ¬åœ°AIæ¨¡å‹è¿›è¡Œå†…å®¹åˆ†æ
- **selenium-stealth**: åæ£€æµ‹å’Œåçˆ¬è™«è§„é¿

## ğŸ¯ è®¾è®¡ç†å¿µ

å‚è€ƒ **CleanRL** çš„è®¾è®¡å“²å­¦ï¼š
1. **å•æ–‡ä»¶è‡ªåŒ…å«**: æ¯ä¸ªæ¨¡å—ç‹¬ç«‹å®Œæ•´
2. **é€æ˜çš„å¤„ç†æµç¨‹**: ä¸»æµç¨‹æ¸…æ™°å¯è§
3. **æœ€å°åŒ–æŠ½è±¡**: ç›´æ¥çš„å‡½æ•°è°ƒç”¨
4. **ä¾¿äºè°ƒè¯•**: è¯¦ç»†çš„æ—¥å¿—è¾“å‡º

## ğŸ†• v2.0 æ–°ç‰¹æ€§

### ä¼˜å…ˆçº§URLé˜Ÿåˆ—
- **æ™ºèƒ½ä¼˜å…ˆçº§**: åŸºäºAIè¯„åˆ†ã€é“¾æ¥ç±»å‹ã€æ·±åº¦è®¡ç®—
- **æ¢ç´¢/åˆ©ç”¨å¹³è¡¡**: epsilon-greedyç­–ç•¥
- **åŸŸåå¤šæ ·æ€§**: é¿å…è¿‡åº¦é›†ä¸­äºå•ä¸€è·¯å¾„

### å¢å¼ºçš„åæ£€æµ‹
- **selenium-stealth**: ä¿®æ”¹æµè§ˆå™¨æŒ‡çº¹
- **éšæœºåŒ–è¡Œä¸º**: æ¨¡æ‹Ÿäººç±»é¼ æ ‡ç§»åŠ¨å’Œæ»šåŠ¨
- **User-Agentè½®æ¢**: å¤šç§æµè§ˆå™¨æ ‡è¯†
- **å¯é€‰undetected-chromedriver**: æœ€å¼ºåæ£€æµ‹

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
intelligent-browser-tool/
â”‚
â”œâ”€â”€ main.py              # ä¸»å…¥å£å’Œçˆ¬å–æµç¨‹
â”œâ”€â”€ config.py            # é…ç½®ç®¡ç†
â”œâ”€â”€ browser_engine.py    # Seleniumæµè§ˆå™¨å¼•æ“
â”œâ”€â”€ content_processor.py # Trafilaturaå†…å®¹å¤„ç†å™¨
â”œâ”€â”€ ai_analyzer.py       # Ollama AIåˆ†æå™¨
â”œâ”€â”€ prompts.py           # Promptæ¨¡æ¿ç³»ç»Ÿ
â”œâ”€â”€ data_manager.py      # æ•°æ®å­˜å‚¨ç®¡ç†
â”œâ”€â”€ report_generator.py  # æŠ¥å‘Šç”Ÿæˆå™¨
â”‚
â”œâ”€â”€ prompt.txt           # ç”¨æˆ·æ„å›¾æ–‡ä»¶
â”œâ”€â”€ requirements.txt     # Pythonä¾èµ–
â””â”€â”€ README.md            # æœ¬æ–‡æ¡£
```

## ğŸ”„ å·¥ä½œæµç¨‹

```
ç”¨æˆ·æ„å›¾ (prompt.txt)
        â†“
    èµ·å§‹URL
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Selenium            â”‚ â† è·å–åŠ¨æ€æ¸²æŸ“çš„HTML
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Trafilatura         â”‚ â† æå–ä¸»è¦å†…å®¹å’Œé“¾æ¥
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Qwen2.5 0.5b        â”‚ â† å¿«é€Ÿåˆ†ç±»ï¼Œåˆ¤æ–­æ˜¯å¦å€¼å¾—æ·±å…¥
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Qwen2.5 3b/4b       â”‚ â† æ·±åº¦åˆ†æï¼Œæå–ç»“æ„åŒ–ä¿¡æ¯
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Qwen2.5 3b/4b       â”‚ â† æ¨èä¸‹ä¸€æ­¥è®¿é—®çš„URL
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
    ç»§ç»­çˆ¬å– â†’ ç”ŸæˆæŠ¥å‘Š
```

## ğŸ“Š è¾“å‡ºç»“æ„

```
output/
â”œâ”€â”€ 01_raw/              # åŸå§‹HTML
â”‚   â”œâ”€â”€ index.json
â”‚   â””â”€â”€ *.html
â”œâ”€â”€ 02_extracted/        # æå–çš„å†…å®¹
â”‚   â”œâ”€â”€ index.json
â”‚   â””â”€â”€ *.json
â”œâ”€â”€ 03_analyzed/         # AIåˆ†æç»“æœ
â”‚   â”œâ”€â”€ index.json
â”‚   â””â”€â”€ *.json
â”œâ”€â”€ 04_reports/          # æœ€ç»ˆæŠ¥å‘Š
â”‚   â”œâ”€â”€ summary.md       # æ€»è§ˆæŠ¥å‘Š
â”‚   â”œâ”€â”€ categories.md    # åˆ†ç±»ç´¢å¼•
â”‚   â”œâ”€â”€ intent_analysis.md
â”‚   â””â”€â”€ {category}/      # åˆ†ç±»æŠ¥å‘Š
â”‚       â”œâ”€â”€ overview.md
â”‚       â””â”€â”€ details/
â””â”€â”€ metadata.json        # ä»»åŠ¡å…ƒæ•°æ®
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. å®‰è£…å¹¶å¯åŠ¨ Ollama

```bash
# å®‰è£… Ollama (macOS/Linux)
curl -fsSL https://ollama.ai/install.sh | sh

# æ‹‰å–æ¨¡å‹
ollama pull qwen3:1.7b   # åˆ†ç±»æ¨¡å‹
ollama pull qwen3:1.7b     # åˆ†ææ¨¡å‹

# å¯åŠ¨æœåŠ¡
ollama serve
```

### 3. è¿è¡Œå·¥å…·

```bash
# åŸºç¡€ä½¿ç”¨
python main.py --url https://www.stanford.edu --intent "æ‹›ç”Ÿä¿¡æ¯"

# ä½¿ç”¨æ„å›¾æ–‡ä»¶
python main.py --url https://www.stanford.edu --intent-file prompt.txt

# ä½¿ç”¨é¢„è®¾é…ç½®
python main.py --preset stanford --intent-file prompt.txt

# è¯¦ç»†å‚æ•°
python main.py \
    --url https://www.stanford.edu \
    --intent "å›½é™…å­¦ç”Ÿæ‹›ç”Ÿæ”¿ç­–" \
    --max-pages 30 \
    --max-depth 3 \
    --headless \
    --output ./stanford_output
```

## ğŸ“ å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|------|------|--------|
| `--url, -u` | èµ·å§‹URL | å¿…éœ€ |
| `--intent, -i` | ç”¨æˆ·æ„å›¾ | ç©º |
| `--intent-file` | æ„å›¾æ–‡ä»¶ | - |
| `--config, -c` | é…ç½®æ–‡ä»¶ | - |
| `--preset, -p` | é¢„è®¾é…ç½® | - |
| `--max-pages, -m` | æœ€å¤§é¡µé¢æ•° | 50 |
| `--max-depth, -d` | æœ€å¤§æ·±åº¦ | 3 |
| `--delay` | è¯·æ±‚é—´éš” | 1.5s |
| `--exploration-rate` | æ¢ç´¢ç‡(0-1) | 0.2 |
| `--headless` | æ— å¤´æ¨¡å¼ | False |
| `--output, -o` | è¾“å‡ºç›®å½• | ./output |
| `--small-model` | åˆ†ç±»æ¨¡å‹ | qwen3:1.7b |
| `--large-model` | åˆ†ææ¨¡å‹ | qwen3:1.7b |

### æ¢ç´¢/åˆ©ç”¨ç­–ç•¥

`--exploration-rate` å‚æ•°æ§åˆ¶URLé€‰æ‹©ç­–ç•¥:
- **0.0**: çº¯è´ªå¿ƒï¼Œæ€»æ˜¯é€‰æ‹©æœ€é«˜ä¼˜å…ˆçº§URL
- **0.2**: æ¨èå€¼ï¼Œ80%è´ªå¿ƒ + 20%éšæœºæ¢ç´¢
- **0.5**: å¹³è¡¡æ¢ç´¢å’Œåˆ©ç”¨
- **1.0**: çº¯éšæœºæ¢ç´¢

## ğŸ¨ é¢„è®¾é…ç½®

### Stanfordé…ç½®
```python
config = get_stanford_config()
# åŸŸåé™åˆ¶: stanford.edu
# ä¼˜å…ˆæ¨¡å¼: admission, apply, international...
```

### å¿«é€Ÿæ¨¡å¼
```python
config = get_fast_config()
# max_pages: 10
# headless: True
# request_delay: 0.5
```

### æ·±åº¦æ¨¡å¼
```python
config = get_deep_config()
# max_pages: 100
# max_depth: 5
# åŒ…å«è¯„è®ºå’Œè¡¨æ ¼
```

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

åˆ›å»º `config.json`:

```json
{
  "ollama": {
    "host": "http://localhost:11434",
    "small_model": "qwen3:1.7b",
    "large_model": "qwen3:1.7b"
  },
  "crawl": {
    "max_pages": 50,
    "max_depth": 3,
    "allowed_domains": ["stanford.edu"]
  },
  "task": {
    "task_name": "stanford_crawl",
    "start_url": "https://www.stanford.edu/",
    "user_intent": "æ‹›ç”Ÿä¿¡æ¯æ”¶é›†"
  }
}
```

ç„¶åè¿è¡Œ:
```bash
python main.py --config config.json
```

## ğŸ“– ç”¨æˆ·æ„å›¾æ–‡ä»¶ (prompt.txt)

ç”¨æˆ·æ„å›¾ä¼šä½œä¸ºæ‰€æœ‰AI Promptçš„å‰ç¼€ï¼ŒæŒ‡å¯¼åˆ†ææ–¹å‘ï¼š

```
äº†è§£æ–¯å¦ç¦å¤§å­¦é’ˆå¯¹å›½é™…å­¦ç”Ÿçš„æ‹›ç”Ÿæ”¿ç­–

å…³æ³¨é‡ç‚¹:
1. å›½é™…å­¦ç”Ÿç”³è¯·è¦æ±‚å’Œæµç¨‹
2. è¯­è¨€èƒ½åŠ›è¦æ±‚ (TOEFL/IELTS)
3. ç”³è¯·æˆªæ­¢æ—¥æœŸ
...
```

## ğŸ¤– Promptè®¾è®¡

é’ˆå¯¹å°æ¨¡å‹(0.5b/3b)çš„Promptè®¾è®¡åŸåˆ™ï¼š

1. **ç®€æ´ç›´æ¥**: é¿å…å¤æ‚çš„æŒ‡ä»¤
2. **ç»“æ„åŒ–è¾“å‡º**: è¦æ±‚JSONæ ¼å¼
3. **ä½æ¸©åº¦**: ä¿è¯ç¨³å®šæ€§
4. **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: ç”¨æˆ·æ„å›¾ä½œä¸ºå‰ç¼€

ç¤ºä¾‹:
```
[ç”¨æˆ·æ„å›¾]
äº†è§£æ–¯å¦ç¦æ‹›ç”Ÿæ”¿ç­–

ä½ æ˜¯ç½‘é¡µåˆ†ç±»åŠ©æ‰‹ã€‚æ ¹æ®æ ‡é¢˜å’Œé¢„è§ˆï¼Œåˆ¤æ–­é¡µé¢ç±»å‹ã€‚
åªè¾“å‡ºJSONï¼Œä¸è¦è§£é‡Šã€‚
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

1. **ä½¿ç”¨æ— å¤´æ¨¡å¼**: `--headless`
2. **é™åˆ¶é¡µé¢æ•°**: `--max-pages 20`
3. **è°ƒæ•´è¯·æ±‚é—´éš”**: `--delay 0.5`
4. **ä½¿ç”¨ç¼“å­˜**: é»˜è®¤å¯ç”¨
5. **é€‰æ‹©åˆé€‚çš„æ¨¡å‹**: 0.5bè¶³å¤Ÿå¿«é€Ÿåˆ†ç±»

## ğŸ› æ•…éšœæ’æŸ¥

### Ollamaè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥æœåŠ¡
curl http://localhost:11434/api/tags

# é‡å¯æœåŠ¡
ollama serve
```

### ChromeDriveré—®é¢˜
```bash
# æ¸…é™¤ç¼“å­˜
rm -rf ~/.wdm

# æ›´æ–°Chromeæµè§ˆå™¨
```

### å†…å­˜ä¸è¶³
```python
# å‡å°é…ç½®
max_pages = 10
max_text_length = 5000
```

## ğŸ“„ License

MIT License

## ğŸ™ è‡´è°¢

- [Trafilatura](https://github.com/adbar/trafilatura) - ç½‘é¡µå†…å®¹æå–
- [Selenium](https://selenium.dev/) - æµè§ˆå™¨è‡ªåŠ¨åŒ–
- [Ollama](https://ollama.ai/) - æœ¬åœ°LLMè¿è¡Œ
- [Qwen2.5](https://github.com/QwenLM/Qwen2.5) - é«˜è´¨é‡å¼€æºæ¨¡å‹
- [CleanRL](https://github.com/vwxyzjn/cleanrl) - è®¾è®¡çµæ„Ÿ